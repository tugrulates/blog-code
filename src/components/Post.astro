---
import { Image } from "astro:assets";

const { link, image, title, description, date } = Astro.props;
const formatted_date = date.toLocaleDateString("en-US", {
  month: "short",
  day: "numeric",
  year: "numeric",
});
---

<a
  href={link}
  class="align-center group z-50 flex flex-row items-start gap-2 ring-inset ring-stone-500/50 transition hover:bg-stone-500/10 hover:ring-1 sm:rounded-xl"
  ,
>
  <div
    class="flex overflow-hidden shadow shadow-stone-900 transition-all sm:rounded-2xl sm:group-hover:scale-110"
  >
    <Image
      src={image}
      alt={title}
      width={160}
      height={160}
      densities={[1, 2, 3, 4]}
      class="transform-all aspect-1 object-cover object-center max-sm:hidden"
    />
  </div>
  <div class="flex-0 group flex flex-1 flex-col px-2 py-2 sm:py-1">
    <time datetime={date} class="text-stone-500">{formatted_date}</time>
    <p class="grow text-xl font-bold">{title}</p>
    <p class="line-clamp-4 font-thin text-stone-600 dark:text-stone-400">
      {description}
    </p>
  </div>
</a>
